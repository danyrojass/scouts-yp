<div class="container">
  @if (isLoading()) {
    <div class="loading-container">
      <app-loading-spinner size="lg"></app-loading-spinner>
    </div>
  }

  @if (!isLoading() && group()) {
    <div class="page-header">
      <h1>{{ group()?.name }}</h1>
      @if (currentUser?.type === UserType.JEFE) {
        <div class="header-actions">
          <button class="btn btn-secondary mr-2" (click)="onEdit()">Editar</button>
          <button class="btn btn-error" (click)="onDelete()">Borrar</button>
        </div>
      }
    </div>

    <div class="detail-card">
      <div class="detail-header">
        <span class="badge badge-primary">{{ group()?.number }}</span>
      </div>

      <div class="detail-body">
        <div class="detail-row">
          <strong>Ciudad:</strong>
          <span>{{ group()?.city }}</span>
        </div>
        <div class="detail-row">
          <strong>Creado:</strong>
          <span>{{ group()?.createdAt | date:'medium' }}</span>
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn btn-secondary" (click)="onBack()">Volver a Grupos</button>
    </div>
  }

  @if (errorMessage()) {
    <app-alert
      [type]="'error'"
      [message]="errorMessage()"
      (dismiss)="errorMessage.set('')">
    </app-alert>
  }
</div>
