<div class="container">
  <div class="page-header">
    <h1>Actividades</h1>
    @if (currentUser?.type === UserType.JEFE) {
      <button
        class="btn btn-primary"
        (click)="onCreateActivity()"
      >
        Crear Actividad
      </button>
    }
  </div>

  @if (isLoading) {
    <div class="loading-container">
      <app-loading-spinner size="lg"></app-loading-spinner>
    </div>
  } @else {
    <div class="card-grid">
      @for (activity of activities; track activity.id) {
        <div class="card">
          <div class="card-header">
            <h3>{{ activity.name }}</h3>
            <span class="badge badge-primary">{{ activity.level }}</span>
          </div>
          <div class="card-body">
            <p><strong>Clave:</strong> {{ activity.key }}</p>
            <p><strong>Puntos:</strong> {{ activity.points }}</p>
          </div>
          @if (currentUser?.type === 'Jefe') {
            <div class="card-footer">
              <button
                class="btn btn-secondary mr-2"
                (click)="onEditActivity(activity.id!)"
              >
                Editar
              </button>
              <button
                class="btn btn-error"
                (click)="onDeleteActivity(activity.id!)"
              >
                Borrar
              </button>
            </div>
          }
        </div>
      }
    </div>
  }


  @if (!isLoading && activities.length === 0) {
    <div class="empty-state">
      <p>No se encontraron actividades.</p>
    </div>
  }

</div>
