<div class="container">
  @if (isLoading) {
    <div class="loading-container">
      <app-loading-spinner size="lg"></app-loading-spinner>
    </div>
  }

  @if (!isLoading && user) {
    <div class="page-header">
      <h1>{{ user.name }}</h1>
      @if (currentUser?.type === UserType.JEFE) {
        <div class="header-actions">
          <button class="btn btn-secondary mr-2" (click)="onEdit()">Editar</button>
          <button class="btn btn-error" (click)="onDelete()">Borrar</button>
        </div>
      }
    </div>

    <div class="detail-card">
      <div class="detail-header">
        <span class="badge"
              [class.badge-primary]="user.type === UserType.BENEFICIARIO"
              [class.badge-accent]="user.type === UserType.JEFE">
          {{ user.type }}
        </span>
        <span class="badge badge-secondary">{{ user.level }}</span>
      </div>

      <div class="detail-body">
        <div class="detail-row">
          <strong>Correo electr√≥nico:</strong>
          <span>{{ user.email }}</span>
        </div>
        <div class="detail-row">
          <strong>Fecha de nacimiento:</strong>
          <span>{{ user.dateOfBirth | date:'mediumDate' }}</span>
        </div>
        <div class="detail-row">
          <strong>Creado:</strong>
          <span>{{ user.createdAt | date:'medium' }}</span>
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn btn-secondary" (click)="onBack()">Volver a Usuarios</button>
    </div>
  }

  @if (errorMessage) {
    <app-alert
      [type]="'error'"
      [message]="errorMessage"
      (dismiss)="errorMessage = ''">
    </app-alert>
  }
</div>
